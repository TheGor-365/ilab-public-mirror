<%# Фильтры по типам и таблица позиций %>
<div class="glass-panel rounded-4 shadow-sm p-3 p-sm-4">
  <div class="d-flex flex-wrap gap-2 mb-3">
    <button class="btn btn-sm btn-outline-dark active" data-action="cart#filter" data-type="all">Все</button>
    <button class="btn btn-sm btn-outline-dark" data-action="cart#filter" data-type="device">Устройства</button>
    <button class="btn btn-sm btn-outline-dark" data-action="cart#filter" data-type="part">Запчасти и аксессуары</button>
    <button class="btn btn-sm btn-outline-dark" data-action="cart#filter" data-type="service">Работы и услуги</button>
  </div>

  <div class="table-responsive">
    <table class="table align-middle table-cart">
      <thead class="small text-muted">
        <tr>
          <th>#</th>
          <th>Позиция</th>
          <th class="text-center">Кол-во</th>
          <th class="text-end">Цена</th>
          <th class="text-end">Сумма</th>
          <th></th>
        </tr>
      </thead>
      <tbody id="cart-items">
        <% index = 0 %>
        <% order_items.each do |item| %>
          <%= render 'cart/line_item', item: item, index: (index += 1) %>
        <% end %>
      </tbody>
    </table>
  </div>

  <div class="d-flex justify-content-between mt-3">
    <%= link_to 'Очистить корзину', destroy_all_order_items_path,
                data: { turbo_method: :delete, turbo_confirm: 'Очистить корзину?' },
                class: 'btn btn-outline-danger btn-sm' %>
    <%= link_to 'В магазин', store_path, class: 'btn btn-sm btn-dark' %>
  </div>
</div>
