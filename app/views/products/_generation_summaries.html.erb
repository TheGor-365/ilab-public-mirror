<% product = local_assigns[:product] || @product %>
<% gen     = product&.generation %>
<% gen_id  = gen&.id %>

<div class="pd-summary-pills d-grid gap-2">
  <%= link_to repairs_path(generation_id: gen_id),
              data: { turbo_frame: "_top" },
              class: "badge rounded-pill bg-primary text-decoration-none d-inline-flex align-items-center justify-content-center p-2" do %>
    <i class="bi bi-tools me-1"></i>
    Ремонты
    <span class="badge bg-light text-dark ms-2"><%= @catalog_repairs.size %></span>
  <% end %>

  <%= link_to spare_parts_path(generation_id: gen_id),
              data: { turbo_frame: "_top" },
              class: "badge rounded-pill bg-info text-white text-decoration-none d-inline-flex align-items-center justify-content-center p-2" do %>
    <i class="bi bi-cpu me-1"></i>
    Запчасти
    <span class="badge bg-light text-dark ms-2"><%= @catalog_spare_parts.size %></span>
  <% end %>

  <%= link_to mods_path(generation_id: gen_id),
              data: { turbo_frame: "_top" },
              class: "badge rounded-pill bg-warning text-dark text-decoration-none d-inline-flex align-items-center justify-content-center p-2" do %>
    <i class="bi bi-puzzle me-1"></i>
    Модули
    <span class="badge bg-dark text-white ms-2"><%= @catalog_mods.size %></span>
  <% end %>

  <%= link_to defects_path(generation_id: gen_id),
              data: { turbo_frame: "_top" },
              class: "badge rounded-pill bg-danger text-decoration-none d-inline-flex align-items-center justify-content-center p-2" do %>
    <i class="bi bi-bug me-1"></i>
    Дефекты
    <span class="badge bg-light text-dark ms-2"><%= @catalog_defects.size %></span>
  <% end %>
</div>
