<% @generations = Generation.order('id ASC').all %>

<div class="pb-4 shadow contents-table">

  <div class="row px-0 pt-2 pb-1 bg-white text-center header-nav">

    <div class="col-5"></div>

    <div class="col-2">
      <p class="text-muted display-6">
        Generations
      </p>
    </div>

    <div class="col-3"></div>

    <div class="col-2 mb-1 p-2 shadow toggler">

      <%= link_to generations_block_path, remote: true, class: 'text-decoration-none text-muted' do %>
        <i class="far fa-square"></i>
        <br>

        <small class="text-muted">
          block
        </small>
      <% end %>
    </div>
  </div>

  <table class="table table-striped table-bordered">

    <thead class="shadow mb-4">
      <tr>
        <th class="text-center px-3 text-muted"><i class="fas fa-2x fa-mobile-alt"></i> <br><small>title</small></th> <!-- generation.title -->
        <th class="text-center px-3 text-muted"><i class="fas fa-2x fa-mobile-alt"></i> <br><small>production period</small></th>
        <th class="text-center px-3 text-muted"><i class="fas fa-2x fa-mobile-alt"></i> <br><small>features</small></th>
        <th class="text-center px-3 text-muted"><i class="fas fa-2x fa-mobile-alt"></i> <br><small>vulnerability</small></th>
        <th class="text-center px-3 text-muted"><i class="fas fa-2x fa-images"></i>     <br><small>images</small></th>
        <th class="text-center px-3 text-muted"><i class="fab fa-2x fa-youtube"></i>    <br><small>videos</small></th>
        <th class="text-center px-3 text-muted"><i class="fas fa-2x fa-ellipsis-h"></i> <br><small>controls</small></th>
      </tr>
    </thead>

    <tbody class="shadow-sm pb-5 my-5">

      <% @generations.each_with_index do |generation, index| %>
        <tr>
          <td class="py-5 px-3 shadow-sm text-center title">
            <span id="<%= generation.title %>" class="title anchorjs-link">
              <small class="h5 text-muted">
                <%= link_to generation_title_path(generation), remote: true, class: 'text-decoration-none text-muted' do %>
                  <%= generation.title %>
                <% end %>
              </small>
            </span>
          </td>

          <td class="py-5 px-3 shadow-sm text-center">
            <span id="production_period">
              <small class="h5 text-muted">
                <%= link_to generation_production_period_path(generation), remote: true, class: 'text-decoration-none text-muted' do %>
                  <%= generation.production_period %>
                <% end %>
              </small>
            </span>
          </td>

          <td class="py-5 px-3 shadow-sm text-center">
            <span id="features">
              <small class="h5 text-muted">
                <%= link_to generation_features_path(generation), remote: true, class: 'text-decoration-none text-muted' do %>
                  <%= generation.features %>
                <% end %>
              </small>
            </span>
          </td>

          <td class="py-5 px-3 shadow-sm text-center">
            <span id="vulnerability">
              <small class="h5 text-muted">
                <%= link_to generation_vulnerability_path(generation), remote: true, class: 'text-decoration-none text-muted' do %>
                  <%= generation.vulnerability %>
                <% end %>
              </small>
            </span>
          </td>

          <td class="py-5 shadow-sm text-center">
            <%= link_to generation_photo_path(generation), remote: true, class: 'text-decoration-none text-muted' do %>
              <span class="images">
                <% generation.images.each do |image| %>
                  <%= image_tag(image.url, width: '80', class: 'shadow rounded mb-3 p-1') %>
                <% end %>
              </span>
            <% end %>
          </td>

          <td class="py-5 shadow-sm text-center">
            <%= link_to generation_video_path(generation), remote: true, class: 'text-decoration-none text-muted' do %>
              <span class="videos">
                <% generation.videos.each do |image| %>
                  <%= video_tag(video.url, width: '80', height: '40', controls: false, class: 'shadow rounded mb-3 p-1') %>
                <% end %>
              </span>
            <% end %>
          </td>

          <td class="py-5 px-4 shadow-sm">
            <small>
              <div class="btn-group-vertical controls">
                <%= link_to 'Show', generation, class: 'btn btn-sm btn-secondary' %>
                <%= link_to 'Edit', edit_generation_path(generation), class: 'btn btn-sm btn-secondary' %>
                <%= link_to 'Destroy', generation, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-sm btn-secondary' %>
              </div>
            </small>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <br>

  <%= link_to 'New Generation', new_generation_path, class: 'text-decoration-none' %>
</div>
