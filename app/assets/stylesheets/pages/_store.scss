/* Общий тон для сайдбаров в store */
.store-grid-container .sidebar-sticky-content {
  background: transparent;
  border-radius: 0;
  box-shadow: none;
}

/* Левый сайдбар: контраст ссылок */
.store-nav__anchor { color: #212529; }

/* Правый сайдбар (дефолтная инфо-карточка) — тот же тон + полтона светлее */
.sidebar-card.sidebar--tone {
  background: var(--glass-bg, rgba(255,255,255,.78)); /* фолбэк если переменные не подключены */
  /* фолбэк для старых движков: хоть немного блюра */
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  /* основное значение (экранировано от Sass) */
  backdrop-filter: css-filter("saturate(var(--glass-sat, 1.12)) blur(var(--glass-blur, 14px))");
  -webkit-backdrop-filter: css-filter("saturate(var(--glass-sat, 1.12)) blur(var(--glass-blur, 14px))");
  border: 1px solid var(--glass-border, rgba(0,0,0,.08));
  border-radius: .75rem;
  box-shadow: 0 8px 20px rgba(0,0,0,.08);
  padding: .75rem .75rem 1rem;
  position: relative;
  z-index: 1;  /* дропдауны навбара выше (1100) */
}

.sidebar-card .list-item a:hover { text-decoration: underline; }

/* Поиск в правом сайдбаре компактный */
.sidebar-card .input-group.input-group-sm {
  position: sticky; top: 0; z-index: 1;
  background: inherit; padding-bottom:.25rem;
}

/* Фон обоих сайдбаров — прозрачный, чтобы сзади был общий фон приложения */
.store-grid-container .desktop-sidebar .sidebar-sticky-content{
  background: transparent !important;
  box-shadow: none !important;
  border: 0 !important;
}

/* Левый сайдбар: названия товаров читаемее */
.store-grid-container .desktop-sidebar .store-nav__ul .store-nav__li a,
.store-grid-container .desktop-sidebar .store-nav__anchor {
  color: #212529;   /* темнее */
  font-weight: 400; /* чуть насыщения */
  text-decoration: none;
}


/* === /store: Offcanvas на мобиле — поверх вообще всего, без отступа сверху === */
@media (max-width: 991.98px) {
  #storeOffcanvasNav {
    top: 0 !important;
    height: 100vh !important;
    z-index: 1100 !important;   /* выше navbar (1055) и мобильного коллапса (1060) */
    border: 0 !important;
    border-radius: 0 !important;

    /* КЛЮЧЕВОЕ: оффканвас сам — прозрачный */
    --bs-offcanvas-bg: transparent !important;
    background: transparent !important;
  }

  /* Бэкдроп тоже выше навбара */
  .offcanvas-backdrop.show {
    z-index: 1090 !important;
  }

  /* Тело уже прозрачно, оставляем */
  #storeOffcanvasNav .offcanvas-body{
    background: transparent !important;
  }

  /* Хедер внутри offcanvas — всегда виден при прокрутке */
  #storeOffcanvasNav .offcanvas-header {
    position: sticky;
    top: 0;
    z-index: 1;
    border-bottom: 1px solid var(--glass-border, rgba(0,0,0,.08));
  }
}

/* Тело offcanvas — скролл по контенту (оставляем как было) */
#storeOffcanvasNav .offcanvas-body {
  padding: 1rem .75rem;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  max-height: 100vh;
}


/* === /store: мобильный offcanvas — стекло у шапки и у блока навигации === */
@media (max-width: 991.98px){
  /* Шапка offcanvas как стеклянная карточка с отступами */
  #storeOffcanvasNav .offcanvas-header.glass-panel{
    background: var(--glass-bg-mobile) !important;
    border: 1px solid var(--glass-border) !important;
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
    border-radius: .75rem;
    box-shadow: 0 8px 20px rgba(0,0,0,.12);
    margin: .5rem .75rem .5rem; /* чтобы было видно скругления */
  }

  /* Сам блок с пилюлями/категориями (мы добавили ему .glass-panel в разметке) */
  #storeOffcanvasNav .store-nav.glass-panel{
    background: var(--glass-bg-mobile) !important;
    border: 1px solid var(--glass-border) !important;
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
    border-radius: .75rem;
    box-shadow: 0 8px 20px rgba(0,0,0,.12);
    padding: .75rem !important;
  }

  /* фоновый слой offcanvas оставляем прозрачным — стекло на карточках */
  #storeOffcanvasNav .offcanvas-body{
    background: transparent !important;
  }
}

/* Desktop-only коррекция отступа на всех страницах /products… */
@media (min-width: 992px) {
  /* 2 способа вместе, чтобы покрыть обе разметки: */
  .scope-products main.has-banner {
    margin-top: -50px; /* поднимаем основной контент */
  }

  /* если используется spacer под фикс-баннер — уменьшим его на те же 50px */
  .scope-products .page-banner-spacer {
    height: calc(var(--navbar-offset) + var(--banner-height) + 8px - 50px) !important;
  }
}
